<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Bookmarklet: Contents Structured</title>
  </head>
  <body>
    <h1>Contents Structured</h1>
    <p>
      You can find the bookmarklet code here. For more information visit the
      <a href="../">description page</a>.
    </p>
    <h2>Add the bookmarklet to your browser</h2>
    <p>
      Add the following link to your bookmarks by right-clicking it and
      selecting <em>Bookmark this link</em> (or similar), or by dragging the
      link onto the bookmarks toolbar:
    </p>
    <p>
      <a
        href='javascript:(function () {
          var to = [
            { n: "H1", c: "#ff0000", p: 0 },
            { n: "H2", c: "#713939", p: 0 },
            { n: "H3", c: "#00aa00", p: 0 },
            { n: "H4", c: "#054164", p: 0 },
            { n: "H5", c: "#7F0A7F", p: 0 },
            { n: "H6", c: "#01D901", p: 0 },
            { n: "LABEL", c: "#ff0000", p: 0 },
            { n: "P", c: "#1515C0", p: 0 },
            { n: "B", c: "#00D400", p: 0 },
            { n: "I", c: "#5A005A", p: 0 },
            { n: "EM", c: "#4E6401", p: 0 },
            { n: "TABLE", c: "#365F5F", p: 1 },
            { n: "THEAD", c: "#003366", p: 1 },
            { n: "TBODY", c: "#9900cc", p: 1 },
            { n: "TFOOT", c: "#0000ff", p: 1 },
            { n: "LEGEND", c: "#28025D", p: 0 },
            { n: "STRONG", c: "#DE1A00", p: 0 },
            { n: "FIELDSET", c: "#800000", p: 1 },
            { n: "UL", c: "#FF00B8", p: 1 },
            { n: "OL", c: "##EE799F", p: 1 },
            { n: "LI", c: "#4682B4", p: 0 },
            { n: "DL", c: "#00CD66", p: 0 },
            { n: "DT", c: "#FFD700", p: 1 },
            { n: "DD", c: "#8B4726", p: 0 },
            { n: "BR", c: "#388E8E", p: 1 },
            { n: "TH", c: "#FF6103", p: 0 },
            { n: "TD", c: "#00CDCD", p: 0 },
            { n: "CAPTION", c: "#4cae4c", p: 0 },
            { n: "A", c: "#873600", p: 0 },
            { n: "FORM", c: "#873600", p: 0 },
            { n: "INPUT", c: "#E74C3C", p: 1 },
            { n: "SELECT", c: "#1E8449", p: 1 },
            { n: "TEXTAREA", c: "#633974", p: 1 },
            { n: "BUTTON", c: "#34495E", p: 1 },
          ];
          var customQuerySelectorAll = function (node, selector) {
            var nodes = [];
            var nodeIterator = document.createNodeIterator(node, Node.ELEMENT_NODE);
            var currentNode;

            while (currentNode = nodeIterator.nextNode()) {
              if (currentNode.matches(selector)) {
                nodes.push(currentNode);
              } else if (currentNode.shadowRoot) {
                nodes.push(...customQuerySelectorAll(currentNode.shadowRoot, selector));
              }
            }

            return nodes;
          };
          var hT = function (w, to) {
            var t = customQuerySelectorAll(document, to.n);
            for (var i = 0; i < t.length; i++) {
              if (to.p == 0) {
                t[i].insertBefore(cT(w, to, ""), t[i].firstChild);
                t[i].appendChild(cT(w, to, "/"));
              } else {
                t[i].parentNode.insertBefore(cT(w, to, ""), t[i]);
                t[i].parentNode.insertBefore(cT(w, to, "/"), t[i].nextSibling);
              }
            }
          };
          var cT = function (w, to, slash) {
            var s = w.document.createElement("span");
            var z = s.style;
            z.color = to.c;
            z.backgroundColor = "#fff";
            z.backgroundImage = "none";
            z.fontSize = "14px";
            z.fontWeight = "bold";
            z.position = "absolute";
            var tn = w.document.createTextNode(" [" + slash + to.n + "] ");
            s.insertBefore(tn, s.firstChild);
            return s;
          };
          var traverse = function (w) {
            try {
              for (var i = 0; i < to.length; i++) hT(w, to[i]);
              for (var i = 0; i < w.frames.length; i++) traverse(w.frames[i]);
            } catch (e) {}
          };
          traverse(window);
        })();'
      >
        Show content structure
      </a>
    </p>
  </body>
</html>
